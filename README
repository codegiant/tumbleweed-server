** pre-requisites **
# install rvm, instructions at ->  https://rvm.io/

rvm install 1.9.3
rvm use 1.9.3 # also add this to the end of your ~/.bash_profile so all terminal windows will use this version of ruby by default
gem install heroku

https://devcenter.heroku.com/articles/quickstart
https://devcenter.heroku.com/articles/rails3
https://devcenter.heroku.com/articles/multiple-environments
http://archives.ryandaigle.com/articles/2009/8/6/what-s-new-in-edge-rails-cleaner-restful-controllers-w-respond_with
empty heroku db - http://stackoverflow.com/questions/4820549/how-to-empty-db-in-heroku
update link_to links after has_many http://ariejan.net/2007/01/23/rails-nested-resource-scaffold

check ruby syntax
ruby -w filename.rb

drop table in sql
sqlite3 db/development.sqlite3 
sqlite> drop table table_name;
sqlite> .quit

APN gem
https://github.com/PRX/apn_on_rails

to run rails locally at http://localhost:3000
rails server  *within the tumbleweed-server directory

get the local console at
rails c

adding a column to a table?
rails g migration nameofmigration

after any migrations/changes to data types, tables, whatev for local
rake db:migrate

for live on heroku-
git push staging master
git push production master

* if installing heroku, make sure it has access to ssh keys 
heroku keys:add ~/.ssh/id_rsa.pub

on heroku hit
heroku run rake db:migrate
heroku run rake db:migrate --remote production

for heroku console
heroku run rails c
heroku run rails c --remote production

let's me watch the logs
heroku logs --tail
heroku logs --tail --remote production

reset locally
rake db:reset

reset on heroku
heroku pg:reset SHARED_DATABASE
Â 
foursquare library on github - https://github.com/ronaldwan/foursquare-api
*test GET url
?"foursquare_id"=1234&device_token=1234&first_name=testy&last_name=testerson

*test POST
curl -v -H "Content-Type: application/json" -X POST -d '{"foursquare_id": "1234",
    "device_token": "1234",
    "first_name": "testy",
    "last_name": "testerson"}' \
http://localhost:3000/register

*test PUT
curl -v -H "Content-Type: application/json" -X POST -d '{"tumbleweedID":1}' \
http://localhost:3000/level

curl -v -H "Content-Type: application/json" -X POST -d '{"checkin":{"id":"5024859ce4b03704678897c3","createdAt":1344570780,"type":"checkin","shout":"Kimchi zza with pulled pork","timeZone":"America\/Los_Angeles","timeZoneOffset":-420,"user":{"id":"12623872","firstName":"Sarah","lastName":"Hallacher","relationship":"self","photo":"https:\/\/is1.4sqi.net\/userpix_thumbs\/JJMCXJ0WVFXQSEQH.jpg","tips":{"count":4},"lists":{"groups":[{"type":"created","count":2,"items":[]}]},"gender":"female","homeCity":"Brooklyn, NY","bio":"","contact":{"email":"sarah.hallacher@gmail.com","twitter":"sarahkthln","facebook":"8204406"}},"venue":{"id":"4f566c9ae4b01a8c7fd8b325","name":"The Pine Box","contact":{"phone":"2065880375","formattedPhone":"(206) 588-0375","twitter":"pinebox"},"location":{"address":"1600 Melrose Ave","crossStreet":"at Pine St.","lat":47.61543746977134,"lng":-122.32766405932361,"postalCode":"98122","city":"Seattle","state":"WA","country":"United States","cc":"US"},"categories":[{"id":"4bf58dd8d48988d117941735","name":"Beer Garden","pluralName":"Beer Gardens","shortName":"Beer Garden","icon":"https:\/\/foursquare.com\/img\/categories\/nightlife\/beergarden.png","parents":["Nightlife Spots"],"primary":true}],"verified":false,"stats":{"checkinsCount":1439,"usersCount":807,"tipCount":15},"likes":{"count":0,"groups":[]},"beenHere":{"count":0}}}}' \
http://localhost:3000/foursquare/push

curl -v -H "Accept: application/json" -H "Content-Type: application/json" -X POST -d ' {"checkin":{"id":"5024859ce4b03704678897c3","createdAt":1344570780,"type":"checkin","shout":"Kimchi zza with pulled pork","timeZone":"America\/Los_Angeles","timeZoneOffset":-420,"user":{"id":"12623872","firstName":"Sarah","lastName":"Hallacher","relationship":"self","photo":"https:\/\/is1.4sqi.net\/userpix_thumbs\/JJMCXJ0WVFXQSEQH.jpg","tips":{"count":4},"lists":{"groups":[{"type":"created","count":2,"items":[]}]},"gender":"female","homeCity":"Brooklyn, NY","bio":"","contact":{"email":"sarah.hallacher@gmail.com","twitter":"sarahkthln","facebook":"8204406"}},"venue":{"id":"4f566c9ae4b01a8c7fd8b325","name":"The Pine Box","contact":{"phone":"2065880375","formattedPhone":"(206) 588-0375","twitter":"pinebox"},"location":{"address":"1600 Melrose Ave","crossStreet":"at Pine St.","lat":47.61543746977134,"lng":-122.32766405932361,"postalCode":"98122","city":"Seattle","state":"WA","country":"United States","cc":"US"},"categories":[{"id":"4bf58dd8d48988d117941735","name":"Beer Garden","pluralName":"Beer Gardens","shortName":"Beer Garden","icon":"https:\/\/foursquare.com\/img\/categories\/nightlife\/beergarden.png","parents":["Nightlife Spots"],"primary":true}],"verified":false,"stats":{"checkinsCount":1439,"usersCount":807,"tipCount":15},"likes":{"count":0,"groups":[]},"beenHere":{"count":0}}}}' http://localhost:3000/foursquare/push

curl -v -H "Accept: application/json" -H "Content-Type: application/json" -X POST -d ' {"checkin": {"id": "5024859ce4b03704678897c3", "user": {"id": "12623872", "firstName": "Sarah", "lastName": "Hallacher"}}, "venue": {"id": "4f566c9ae4b01a8c7fd8b325", "name": "The Pine Box"}}' http://localhost:3000/foursquare/push
curl -v -H "Accept: application/json" -H "Content-Type: application/json" -X POST -d ' {"checkin"=>{"id"=>"5024859ce4b03704678897c3", "user"=>{"id"=>"12623872", "firstName"=>"Sarah", "lastName"=>"Hallacher"}}, "venue"=>{"id"=>"4f566c9ae4b01a8c7fd8b325", "name"=>"The Pine Box"}}' http://localhost:3000/foursquare/push

*need to reset db ids - rake db:drop, then rake db:migrate or create

*whenever app wakes up, tries to send the network queue. deletes it if successful. can't rely on network. write it to disk and empties.
* what if push notifications are disabled on the phone? anything special to consider on the app side?

variety unlocked saloon because of food
met onlocked deal because of shop
should be shop and !food (or at least groc store or gas), and nightlife or restaurant

rawcheckins broke and checkin.html
